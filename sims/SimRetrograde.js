/* Copyright (C) 2022 Alma Nuradnan Pramudita (email: gocodealpha@gmail.com)

This file is part of SimAstroPosisi.

SimAstroPosisi is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.

SimAstroPosisi is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.

You should have received a copy of the GNU General Public License along with SimAstroPosisi. If not, see <https://www.gnu.org/licenses/>. */

let Retrograde=function(a){var t=10,e=14;let l,h,M,u,i,s,v,I,P,r,c,f,o,n,k,d,m,p,g,b,B,S,x,R,w,F,z,W,A,L,N,y,C,D,G,J;a.preload=function(){l=a.loadFont("https://anuradnanp.github.io/simastroposisi/aset/Lato-Regular.ttf"),h=a.loadFont("https://anuradnanp.github.io/simastroposisi/aset/Lato-Bold.ttf")},a.setup=function(){a.createCanvas(320,447),M=a.createGraphics(310,310),u=a.createSlider(0,6,2,1),u.position(20,34),u.size(200,e),i=a.createSlider(0,1,0,.1),i.position(20,94),i.size(200,e),a.frameRate(20)},a.draw=function(){switch(a.background("#ffffff"),a.angleMode(a.RADIANS),u.value()){case 0:s="Merkurius";break;case 1:s="Venus";break;case 2:s="Mars";break;case 3:s="Jupiter";break;case 4:s="Saturnus";break;case 5:s="Uranus";break;case 6:s="Neptunus"}if(v=0==i.value()?"Matahari":.1==i.value()?"Matahari -|--------- Bumi":.2==i.value()?"Matahari --|-------- Bumi":.3==i.value()?"Matahari ---|------- Bumi":.4==i.value()?"Matahari ----|------ Bumi":.5==i.value()?"Matahari -----|----- Bumi":.6==i.value()?"Matahari ------|---- Bumi":.7==i.value()?"Matahari -------|--- Bumi":.8==i.value()?"Matahari --------|-- Bumi":.9==i.value()?"Matahari ---------|- Bumi":"Bumi",I=[.387,.723,1.52,5.2,9.57,19.17,30.18],P=[.241,.615,1.88,11.9,29.4,83.7,163.7],a.fill("#000000"),a.textFont(l),a.textSize(14),a.noStroke(),a.text("planet yang dilihat dari Bumi : ",t,24,200,e),a.text("pusat pandang : ",t,83,200,e),a.textFont(h),a.text("["+s+"]",195,24,50,e),a.text("["+v+"]",110,83,200,e),M.background("#d7eef4"),J=a.millis()/1e3,u.value()<=1)p=[100*Math.cos(2*Math.PI*(J-.6)/10-Math.PI/2)+155,-100*Math.sin(2*Math.PI*(J-.6)/10-Math.PI/2)+155],m=[100*Math.cos(2*Math.PI*(J-.45)/10-Math.PI/2)+155,-100*Math.sin(2*Math.PI*(J-.45)/10-Math.PI/2)+155],d=[100*Math.cos(2*Math.PI*(J-.3)/10-Math.PI/2)+155,-100*Math.sin(2*Math.PI*(J-.3)/10-Math.PI/2)+155],k=[100*Math.cos(2*Math.PI*(J-.15)/10-Math.PI/2)+155,-100*Math.sin(2*Math.PI*(J-.15)/10-Math.PI/2)+155],r=[100*Math.cos(2*Math.PI*J/10-Math.PI/2)+155,-100*Math.sin(2*Math.PI*J/10-Math.PI/2)+155],S=[100*I[u.value()]*Math.cos(2*Math.PI*(J-.6)/(10*P[u.value()])-Math.PI/2)+155,100*-I[u.value()]*Math.sin(2*Math.PI*(J-.6)/(10*P[u.value()])-Math.PI/2)+155],B=[100*I[u.value()]*Math.cos(2*Math.PI*(J-.45)/(10*P[u.value()])-Math.PI/2)+155,100*-I[u.value()]*Math.sin(2*Math.PI*(J-.45)/(10*P[u.value()])-Math.PI/2)+155],b=[100*I[u.value()]*Math.cos(2*Math.PI*(J-.3)/(10*P[u.value()])-Math.PI/2)+155,100*-I[u.value()]*Math.sin(2*Math.PI*(J-.3)/(10*P[u.value()])-Math.PI/2)+155],g=[100*I[u.value()]*Math.cos(2*Math.PI*(J-.15)/(10*P[u.value()])-Math.PI/2)+155,100*-I[u.value()]*Math.sin(2*Math.PI*(J-.15)/(10*P[u.value()])-Math.PI/2)+155],f=[100*I[u.value()]*Math.cos(2*Math.PI*J/(10*P[u.value()])-Math.PI/2)+155,100*-I[u.value()]*Math.sin(2*Math.PI*J/(10*P[u.value()])-Math.PI/2)+155];else{switch(u.value()){case 2:G=.15;break;case 3:case 4:G=.9;break;case 5:G=2.7;break;case 6:G=2.7}S=[100*Math.cos(2*Math.PI*(J-4*G)/(10*P[u.value()])-Math.PI/2)+155,-100*Math.sin(2*Math.PI*(J-4*G)/(10*P[u.value()])-Math.PI/2)+155],B=[100*Math.cos(2*Math.PI*(J-3*G)/(10*P[u.value()])-Math.PI/2)+155,-100*Math.sin(2*Math.PI*(J-3*G)/(10*P[u.value()])-Math.PI/2)+155],b=[100*Math.cos(2*Math.PI*(J-2*G)/(10*P[u.value()])-Math.PI/2)+155,-100*Math.sin(2*Math.PI*(J-2*G)/(10*P[u.value()])-Math.PI/2)+155],g=[100*Math.cos(2*Math.PI*(J-+G)/(10*P[u.value()])-Math.PI/2)+155,-100*Math.sin(2*Math.PI*(J-+G)/(10*P[u.value()])-Math.PI/2)+155],f=[100*Math.cos(2*Math.PI*J/(10*P[u.value()])-Math.PI/2)+155,-100*Math.sin(2*Math.PI*J/(10*P[u.value()])-Math.PI/2)+155],p=[1/I[u.value()]*100*Math.cos(2*Math.PI*(J-4*G)/10-Math.PI/2)+155,-1/I[u.value()]*100*Math.sin(2*Math.PI*(J-4*G)/10-Math.PI/2)+155],m=[1/I[u.value()]*100*Math.cos(2*Math.PI*(J-3*G)/10-Math.PI/2)+155,-1/I[u.value()]*100*Math.sin(2*Math.PI*(J-3*G)/10-Math.PI/2)+155],d=[1/I[u.value()]*100*Math.cos(2*Math.PI*(J-2*G)/10-Math.PI/2)+155,-1/I[u.value()]*100*Math.sin(2*Math.PI*(J-2*G)/10-Math.PI/2)+155],k=[1/I[u.value()]*100*Math.cos(2*Math.PI*(J-+G)/10-Math.PI/2)+155,-1/I[u.value()]*100*Math.sin(2*Math.PI*(J-+G)/10-Math.PI/2)+155],r=[1/I[u.value()]*100*Math.cos(2*Math.PI*J/10-Math.PI/2)+155,-1/I[u.value()]*100*Math.sin(2*Math.PI*J/10-Math.PI/2)+155]}L=[S[0]-i.value()*(p[0]-155),S[1]-i.value()*(p[1]-155)],A=[B[0]-i.value()*(m[0]-155),B[1]-i.value()*(m[1]-155)],W=[b[0]-i.value()*(d[0]-155),b[1]-i.value()*(d[1]-155)],z=[g[0]-i.value()*(k[0]-155),g[1]-i.value()*(k[1]-155)],o=[f[0]-i.value()*(r[0]-155),f[1]-i.value()*(r[1]-155)],F=[p[0]-i.value()*(p[0]-155),p[1]-i.value()*(p[1]-155)],w=[m[0]-i.value()*(m[0]-155),m[1]-i.value()*(m[1]-155)],R=[d[0]-i.value()*(d[0]-155),d[1]-i.value()*(d[1]-155)],x=[k[0]-i.value()*(k[0]-155),k[1]-i.value()*(k[1]-155)],c=[r[0]-i.value()*(r[0]-155),r[1]-i.value()*(r[1]-155)],D=[155-i.value()*(p[0]-155),155-i.value()*(p[1]-155)],C=[155-i.value()*(m[0]-155),155-i.value()*(m[1]-155)],y=[155-i.value()*(d[0]-155),155-i.value()*(d[1]-155)],N=[155-i.value()*(k[0]-155),155-i.value()*(k[1]-155)],n=[155-i.value()*(r[0]-155),155-i.value()*(r[1]-155)],M.strokeWeight(1),u.value()<5&&(M.noStroke(),M.fill("#ffff88"),M.circle(D[0],D[1],3),M.fill("#ffff66"),M.circle(C[0],C[1],4),M.fill("#ffff44"),M.circle(y[0],y[1],5),M.fill("#ffff22"),M.circle(N[0],N[1],6),M.stroke("#000000"),M.fill("#ffff00"),M.circle(n[0],n[1],7)),M.noStroke(),M.fill("#8888ff"),M.circle(F[0],F[1],3),M.fill("#6666ff"),M.circle(w[0],w[1],4),M.fill("#4444ff"),M.circle(R[0],R[1],5),M.fill("#2222ff"),M.circle(x[0],x[1],6),M.stroke("#000000"),M.strokeWeight(1),M.fill("#0000ff"),M.circle(c[0],c[1],7),M.noStroke(),M.fill("#ff8888"),M.circle(L[0],L[1],3),M.fill("#ff6666"),M.circle(A[0],A[1],4),M.fill("#ff4444"),M.circle(W[0],W[1],5),M.fill("#ff2222"),M.circle(z[0],z[1],6),M.stroke("#000000"),M.strokeWeight(1),M.fill("#ff0000"),M.circle(o[0],o[1],7),a.image(M,5,130)}},sketRetrograde=new p5(Retrograde,"SimRetrograde");

/* Copyright (C) 2022 Alma Nuradnan Pramudita (email: gocodealpha@gmail.com)

This file is part of SimAstroPosisi.

SimAstroPosisi is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.

SimAstroPosisi is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.

You should have received a copy of the GNU General Public License along with SimAstroPosisi. If not, see <https://www.gnu.org/licenses/>. */

let DailyPath=function(t){var a=320,e=10,o=250,s=78.29190759722051,n=85.42154277130233,r=15;let h,i,l,M,u,b,c,f,P,I,k,d,v,L,O,g,E,p,m;t.preload=function(){l=t.loadImage("https://anuradnanp.github.io/simastroposisi/aset/web-celestial-coords-landscape.png"),M=t.loadImage("https://anuradnanp.github.io/simastroposisi/aset/web-celestial-coords-landscape-kutub.png"),h=t.loadFont("https://anuradnanp.github.io/simastroposisi/aset/Lato-Regular.ttf"),i=t.loadFont("https://anuradnanp.github.io/simastroposisi/aset/Lato-Bold.ttf")},t.setup=function(){t.createCanvas(a,330),t.frameRate(5),u=t.createSlider(-90,90,60,1),b=t.createSlider(-90,90,70,1),u.position(160,e),b.position(160,35),u.size(120,r),b.size(120,r)},t.horizon=function(){t.image(l,35,135-.5*s+30+30,o,n),t.noFill()},t.horizonKutub=function(){t.image(M,35,135-.5*s+30+30,o,n),t.noFill()},t.dome=function(){t.noStroke(),t.fill("#d7eef4"),t.arc(160,195,o,o,t.PI,2*t.PI),t.noFill()},t.backEquBelowLat45=function(){t.strokeWeight(2),t.stroke("#dbd7dc"),t.translate(c,f),t.rotate(P),t.arc(0,0,482.863*(1-.129*(482.863/358.778*Math.abs(Math.sin(P-Math.PI/4))-1.346))/358.778*s*Math.abs(Math.sin(P-Math.PI/4)),o,-t.PI/2,t.PI/2),t.rotate(-P),t.translate(-c,-f)},t.backEquOverLat45=function(){t.strokeWeight(2),t.stroke("#dbd7dc"),t.translate(c,f),t.rotate(P),t.arc(0,0,482.863*(1-.129*(482.863/358.778*Math.abs(Math.sin(P-Math.PI/4))-1.346))/358.778*s*Math.abs(Math.sin(P-Math.PI/4)),o,t.PI/2,-t.PI/2),t.rotate(-P),t.translate(-c,-f)},t.frontEquBelowLat45=function(){t.strokeWeight(2),t.stroke("#ff0000"),t.translate(c,f),t.rotate(P),t.arc(0,0,482.863*(1-.129*(482.863/358.778*Math.abs(Math.sin(P-Math.PI/4))-1.346))/358.778*s*Math.abs(Math.sin(P-Math.PI/4)),o,t.PI/2,-t.PI/2),t.rotate(-P),t.translate(-c,-f)},t.frontEquOverLat45=function(){t.strokeWeight(2),t.stroke("#ff0000"),t.translate(c,f),t.rotate(P),t.arc(0,0,482.863*(1-.129*(482.863/358.778*Math.abs(Math.sin(P-Math.PI/4))-1.346))/358.778*s*Math.abs(Math.sin(P-Math.PI/4)),o,-t.PI/2,t.PI/2),t.rotate(-P),t.translate(-c,-f)},t.backObjBelowLat45=function(){t.strokeWeight(2),t.stroke("#e7f592"),t.translate(O,g),t.rotate(P),t.arc(0,0,(1-.129*(482.863/358.778*Math.abs(Math.sin(P-Math.PI/4))-1.346))*Math.cos(I)*482.863/358.778*s*Math.abs(Math.sin(P-Math.PI/4))*Math.cos(I),o*Math.cos(I),-t.PI/2,t.PI/2),t.rotate(-P),t.translate(-O,-g)},t.backObjOverLat45=function(){t.strokeWeight(2),t.stroke("#e7f592"),t.translate(O,g),t.rotate(P),t.arc(0,0,(1-.129*(482.863/358.778*Math.abs(Math.sin(P-Math.PI/4))-1.346))*Math.cos(I)*482.863/358.778*s*Math.abs(Math.sin(P-Math.PI/4))*Math.cos(I),o*Math.cos(I),t.PI/2,-t.PI/2),t.rotate(-P),t.translate(-O,-g)},t.frontObjBelowLat45=function(){t.strokeWeight(2),t.stroke("#ffff00"),t.translate(O,g),t.rotate(P),t.arc(0,0,(1-.129*(482.863/358.778*Math.abs(Math.sin(P-Math.PI/4))-1.346))*Math.cos(I)*482.863/358.778*s*Math.abs(Math.sin(P-Math.PI/4))*Math.cos(I),o*Math.cos(I),t.PI/2,-t.PI/2),t.rotate(-P),t.translate(-O,-g)},t.frontObjOverLat45=function(){t.strokeWeight(2),t.stroke("#ffff00"),t.translate(O,g),t.rotate(P),t.arc(0,0,(1-.129*(482.863/358.778*Math.abs(Math.sin(P-Math.PI/4))-1.346))*Math.cos(I)*482.863/358.778*s*Math.abs(Math.sin(P-Math.PI/4))*Math.cos(I),o*Math.cos(I),-t.PI/2,t.PI/2),t.rotate(-P),t.translate(-O,-g)},t.mousePressed=function(){0<t.mouseX&&t.mouseX<t.width&&0<t.mouseY&&t.mouseY<t.height&&t.frameRate(20)},t.mouseReleased=function(){t.frameRate(5)},t.draw=function(){t.background("#ffffff"),t.angleMode(t.RADIANS),t.dome(),t.textFont(h),t.textSize(14),t.textAlign(t.LEFT),t.fill("#000000"),t.text("deklinasi objek",e,e,100,r),t.text("lintang lokasi",e,35,100,r),t.text(": "+u.value()+"°",110,e,50,r),t.text(": "+b.value()+"°",110,35,50,r),t.noFill(),d=u.value(),k=b.value(),89<Math.abs(u.value())&&(d=Math.abs(u.value())/u.value()*89),45==b.value()&&(k=44.9999),I=d*Math.PI/180,P=k*Math.PI/180,c=160,f=195,v=c-125*Math.sin(I),L=f,O=Math.cos(-P)*(v-c)-Math.sin(-P)*(L-f)+c,g=Math.sin(P)*(v-c)+Math.cos(P)*(L-f)+f,E="U",p="S",m="B",90==b.value()?(E="S",p="S",m="S"):-90==b.value()&&(E="U",p="U",m="U"),0<I?P<=Math.PI/4?(t.backObjBelowLat45(),t.backEquBelowLat45(),90==Math.abs(b.value())?t.horizonKutub():t.horizon(),t.frontObjBelowLat45(),t.frontEquBelowLat45()):(t.backEquOverLat45(),t.backObjOverLat45(),90==Math.abs(b.value())?t.horizonKutub():t.horizon(),t.frontEquOverLat45(),t.frontObjOverLat45()):0==I?P<=Math.PI/4?(t.backObjBelowLat45(),90==Math.abs(b.value())?t.horizonKutub():t.horizon(),t.frontObjBelowLat45()):(t.backObjOverLat45(),90==Math.abs(b.value())?t.horizonKutub():t.horizon(),t.frontObjOverLat45()):P<=Math.PI/4?(t.backEquBelowLat45(),t.backObjBelowLat45(),90==Math.abs(b.value())?t.horizonKutub():t.horizon(),t.frontEquBelowLat45(),t.frontObjBelowLat45()):(t.backObjOverLat45(),t.backEquOverLat45(),90==Math.abs(b.value())?t.horizonKutub():t.horizon(),t.frontObjOverLat45(),t.frontEquOverLat45()),t.noStroke(),t.fill("#000000"),t.textFont(i),t.textSize(18),t.textAlign(t.RIGHT,t.CENTER),t.text(E,25,195),t.textAlign(t.LEFT,t.CENTER),t.text(p,290,200),t.strokeWeight(3),t.stroke("#ffffff"),t.textAlign(t.CENTER,t.CENTER),t.text(m,118,234),t.noFill(),t.noStroke()}},sketDailyPath=new p5(DailyPath,"SimDailyPath");
